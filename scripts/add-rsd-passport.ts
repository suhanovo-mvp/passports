#!/usr/bin/env tsx

/**
 * Ð¡ÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð¼ÐµÑ€Ð° Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚Ð° Ð Ð¡Ð” Ð² Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…
 * Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ: pnpm tsx scripts/add-rsd-passport.ts
 */

import { drizzle } from "drizzle-orm/mysql2";
import mysql from "mysql2/promise";
import * as schema from "../drizzle/schema";

async function main() {
  console.log("ðŸŒ± Adding RSD passport example...");

  // ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð‘Ð”
  const connection = await mysql.createConnection(process.env.DATABASE_URL!);
  const db = drizzle(connection);

  try {
    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ð°ÑÐ¿Ð¾Ñ€Ñ‚ Ð Ð¡Ð”
    const [passportResult] = await db.insert(schema.passports).values({
      serviceName: "ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð½ÐµÑ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¼ Ð¿ÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€Ð°Ð¼ Ð´Ð¾ Ð“Ð¡Ð¡",
      serviceCode: "50",
      description: "Ð ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ð´Ð¾ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð³Ð¾Ñ€Ð¾Ð´ÑÐºÐ¾Ð³Ð¾ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð° Ð´Ð»Ñ Ð½ÐµÑ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ñ… Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½, Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾ Ð¼ÐµÑÑ‚Ñƒ Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° Ð² ÐœÐ¾ÑÐºÐ²Ðµ 10 Ð»ÐµÑ‚ Ð¸ Ð±Ð¾Ð»ÐµÐµ",
      status: "published",
      version: "1.0",
    });

    const passportId = Number(passportResult.insertId);
    console.log(`âœ… Created passport with ID: ${passportId}`);

    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‹
    await db.insert(schema.sections).values([
      {
        passportId,
        sectionNumber: 1,
        sectionName: "ÐžÐ±Ñ‰Ð¸Ðµ ÑÐ²ÐµÐ´ÐµÐ½Ð¸Ñ Ð¾Ð± ÑƒÑÐ»ÑƒÐ³Ðµ",
        data: {
          content: "Ð’Ð¸Ð´ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚Ð¸/Ð·Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ñ: (50) ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð½ÐµÑ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¼ Ð¿ÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€Ð°Ð¼ Ð´Ð¾ Ð“Ð¡Ð¡\n\nÐžÑ‚Ð½Ð¾ÑÐ¸Ñ‚ÑÑ Ðº Ð²Ð¸Ð´Ñƒ Ð“Ð¡ÐŸ: Ð”Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð´Ð¾ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð¹ ÑÑƒÐ¼Ð¼Ñ‹"
        },
        isCompleted: true,
      },
      {
        passportId,
        sectionNumber: 2,
        sectionName: "Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ",
        data: {
          content: "Ð”Ð»Ñ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ:\n- ÐŸÐ¾ÑÑ‚Ð¾ÑÐ½Ð½Ð°Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð² Ñ€ÐµÐ³Ð¸Ð¾Ð½Ðµ Ð² Ñ‚ÐµÑ‡ÐµÐ½Ð¸Ð¸ 10 Ð»ÐµÑ‚\n- ÐŸÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚\n\nÐ˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ñ„Ð¸Ð½Ð°Ð½ÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ: Ð‘ÑŽÐ´Ð¶ÐµÑ‚ Ð³Ð¾Ñ€Ð¾Ð´Ð° ÐœÐ¾ÑÐºÐ²Ñ‹"
        },
        isCompleted: true,
      },
      {
        passportId,
        sectionNumber: 3,
        sectionName: "Ð Ð°Ð·Ð¼ÐµÑ€ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ",
        data: {
          content: "ÐžÐ±Ñ‰Ð¸Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð¸ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹:\n- Ð¡ 01.01.2024: 24 500,00 Ñ€ÑƒÐ±. (Ð¤Ð¸ÐºÑÐ¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€, Ð´Ð¾ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÑÑ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ð°)\n- Ð¡ 01.01.2023: 23 313,00 Ñ€ÑƒÐ±.\n- Ð¡ 01.01.2022: 21 193,00 Ñ€ÑƒÐ±.\n\nÐŸÐµÑ€Ð¸Ð¾Ð´Ð¸Ñ‡Ð½Ð¾ÑÑ‚ÑŒ: ÐµÐ¶ÐµÐ¼ÐµÑÑÑ‡Ð½Ð°Ñ"
        },
        isCompleted: true,
      },
      {
        passportId,
        sectionNumber: 4,
        sectionName: "ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð¾Ñ‚ÐºÐ°Ð·Ð°",
        data: {
          content: "(100) Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¹ Ð·Ð°Ð¿Ñ€Ð¾Ñ Ð¸ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ‹Ð¼ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼\n(106) Ð¾Ñ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñƒ Ð·Ð°ÑÐ²Ð¸Ñ‚ÐµÐ»Ñ Ð¿Ñ€Ð°Ð²Ð° Ð½Ð° Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð³Ð¾ÑÑƒÐ´Ð°Ñ€ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð¹ ÑƒÑÐ»ÑƒÐ³Ð¸/Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸\n(117) Ð´Ð°Ð½Ð½Ð°Ñ ÑƒÑÐ»ÑƒÐ³Ð° Ð¸Ð»Ð¸ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ñ ÑƒÐ¶Ðµ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Ð·Ð°ÑÐ²Ð¸Ñ‚ÐµÐ»ÑŽ\n(123) Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²Ð¾Ñ€ÐµÑ‡Ð¸Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ ÑÐ²ÐµÐ´ÐµÐ½Ð¸Ð¹, Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð½Ñ‹Ñ… Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¼ÐµÐ¶Ð²ÐµÐ´Ð¾Ð¼ÑÑ‚Ð²ÐµÐ½Ð½Ð¾Ð³Ð¾ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¾Ð½Ð½Ð¾Ð³Ð¾ Ð²Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ\n(142) Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¸Ðµ Ð¾Ð±Ñ‰ÐµÐ¹ ÑÑƒÐ¼Ð¼Ñ‹ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð¿Ñ€Ð¾Ð¶Ð¸Ñ‚Ð¾Ñ‡Ð½Ð¾Ð³Ð¾ Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼Ð° Ð¿ÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€Ð°\n(144) ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ñ„Ð°ÐºÑ‚Ð° Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÐµÐ½Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð¸(Ð¸Ð»Ð¸) Ð¸Ð½Ð¾Ð¹ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸, Ð² Ð¿ÐµÑ€Ð¸Ð¾Ð´ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½Ðµ Ð¿Ð¾Ð´Ð»ÐµÐ¶Ð°Ñ‚ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¼Ñƒ Ð¿ÐµÐ½ÑÐ¸Ð¾Ð½Ð½Ð¾Ð¼Ñƒ ÑÑ‚Ñ€Ð°Ñ…Ð¾Ð²Ð°Ð½Ð¸ÑŽ\n(145) Ð½ÐµÐ¿Ð¾Ð´Ñ‚Ð²ÐµÑ€Ð¶Ð´ÐµÐ½Ð¸Ðµ Ñ„Ð°ÐºÑ‚Ð° Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð² Ð³Ð¾Ñ€Ð¾Ð´Ðµ ÐœÐ¾ÑÐºÐ²Ðµ"
        },
        isCompleted: true,
      },
    ]);
    console.log("âœ… Created sections");

    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð½Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð°ÐºÑ‚
    const [normActResult] = await db.insert(schema.normativeActs).values({
      type: "ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐŸÑ€Ð°Ð²Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° ÐœÐ¾ÑÐºÐ²Ñ‹",
      number: "1268-ÐŸÐŸ",
      date: new Date("2009-11-17"),
      title: 'ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐŸÑ€Ð°Ð²Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° ÐœÐ¾ÑÐºÐ²Ñ‹ Ð¾Ñ‚ 17 Ð½Ð¾ÑÐ±Ñ€Ñ 2009 Ð³. â„– 1268-ÐŸÐŸ "Ðž Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ðµ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸"',
      description: "ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ð½Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚, Ñ€ÐµÐ³ÑƒÐ»Ð¸Ñ€ÑƒÑŽÑ‰Ð¸Ð¹ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ð Ð¡Ð”",
    });

    await db.insert(schema.passportNormativeActs).values({
      passportId,
      normativeActId: Number(normActResult.insertId),
      relevance: "ÐžÑÐ½Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð´Ð»Ñ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹",
    });
    console.log("âœ… Created normative acts");

    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸Ð¸ Ð¾Ñ†ÐµÐ½ÐºÐ¸
    await db.insert(schema.criteriaMatrix).values([
      {
        passportId,
        criterionName: "Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¿Ð¾ Ð¼ÐµÑÑ‚Ñƒ Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° Ð² ÐœÐ¾ÑÐºÐ²Ðµ",
        criterionType: "ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹",
        description: "ÐÐ°Ð»Ð¸Ñ‡Ð¸Ðµ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð¿Ð¾ Ð¼ÐµÑÑ‚Ñƒ Ð¶Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° Ð² ÐœÐ¾ÑÐºÐ²Ðµ",
        dataSource: "Ð ÐµÐµÑÑ‚Ñ€ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ Ð³Ñ€Ð°Ð¶Ð´Ð°Ð½",
        validationRule: "Ð¡Ñ€Ð¾Ðº Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸ >= 10 Ð»ÐµÑ‚",
        priority: 1,
        normativeBasis: "ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐŸÑ€Ð°Ð²Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° ÐœÐ¾ÑÐºÐ²Ñ‹ â„– 1268-ÐŸÐŸ",
      },
      {
        passportId,
        criterionName: "ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ñ‚Ñ€ÑƒÐ´Ð¾Ð²Ð¾Ð¹ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸",
        criterionType: "ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹",
        description: "ÐŸÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€ Ð½Ðµ Ð¾ÑÑƒÑ‰ÐµÑÑ‚Ð²Ð»ÑÐµÑ‚ Ñ‚Ñ€ÑƒÐ´Ð¾Ð²ÑƒÑŽ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ",
        dataSource: "ÐŸÐµÐ½ÑÐ¸Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½Ð´ Ð Ð¤",
        validationRule: "ÐžÑ‚ÑÑƒÑ‚ÑÑ‚Ð²Ð¸Ðµ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹ Ð¾ Ñ‚Ñ€ÑƒÐ´Ð¾Ð²Ð¾Ð¹ Ð´ÐµÑÑ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð² Ñ‚ÐµÐºÑƒÑ‰ÐµÐ¼ Ð¿ÐµÑ€Ð¸Ð¾Ð´Ðµ",
        priority: 2,
        normativeBasis: "ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐŸÑ€Ð°Ð²Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° ÐœÐ¾ÑÐºÐ²Ñ‹ â„– 1268-ÐŸÐŸ",
      },
      {
        passportId,
        criterionName: "ÐÐ°Ð»Ð¸Ñ‡Ð¸Ðµ Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð² ÐœÐ¾ÑÐºÐ²Ðµ",
        criterionType: "ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹",
        description: "ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð² Ð³Ð¾Ñ€Ð¾Ð´Ðµ ÐœÐ¾ÑÐºÐ²Ðµ",
        dataSource: "ÐŸÐµÐ½ÑÐ¸Ð¾Ð½Ð½Ñ‹Ð¹ Ñ„Ð¾Ð½Ð´ Ð Ð¤",
        validationRule: "ÐŸÐµÐ½ÑÐ¸Ñ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð° Ð¸ Ð²Ñ‹Ð¿Ð»Ð°Ñ‡Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð² ÐœÐ¾ÑÐºÐ²Ðµ",
        priority: 3,
        normativeBasis: "ÐŸÐ¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐŸÑ€Ð°Ð²Ð¸Ñ‚ÐµÐ»ÑŒÑÑ‚Ð²Ð° ÐœÐ¾ÑÐºÐ²Ñ‹ â„– 1268-ÐŸÐŸ",
      },
    ]);
    console.log("âœ… Created criteria");

    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ñ„Ð¾Ñ€Ð¼ÑƒÐ»Ñƒ Ñ€Ð°ÑÑ‡ÐµÑ‚Ð°
    await db.insert(schema.paymentFormulas).values({
      passportId,
      formulaName: "Ð Ð°ÑÑ‡ÐµÑ‚ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ð´Ð¾ Ð“Ð¡Ð¡",
      formulaExpression: "Ð Ð¡Ð” = Ð“Ð¡Ð¡ - (ÐŸÐµÐ½ÑÐ¸Ñ + Ð•Ð”Ð’ + ÐÐ¡Ð£ + Ð”Ñ€ÑƒÐ³Ð¸Ðµ_Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ñ‹)",
      variables: {
        Ð Ð¡Ð”: "Ð ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ð°",
        Ð“Ð¡Ð¡: "Ð“Ð¾Ñ€Ð¾Ð´ÑÐºÐ¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚ (24500 Ñ€ÑƒÐ±. Ñ 01.01.2024)",
        ÐŸÐµÐ½ÑÐ¸Ñ: "Ð Ð°Ð·Ð¼ÐµÑ€ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð½Ð¾Ð¹ Ð¿ÐµÐ½ÑÐ¸Ð¸",
        Ð•Ð”Ð’: "Ð•Ð¶ÐµÐ¼ÐµÑÑÑ‡Ð½Ð°Ñ Ð´ÐµÐ½ÐµÐ¶Ð½Ð°Ñ Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ð°",
        ÐÐ¡Ð£: "ÐÐ°Ð±Ð¾Ñ€ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ñ… ÑƒÑÐ»ÑƒÐ³",
        Ð”Ñ€ÑƒÐ³Ð¸Ðµ_Ð²Ñ‹Ð¿Ð»Ð°Ñ‚Ñ‹: "Ð˜Ð½Ñ‹Ðµ Ð¼ÐµÑ€Ñ‹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¸",
      },
      roundingRule: "Ð”Ð¾ ÐºÐ¾Ð¿ÐµÐµÐº (2 Ð·Ð½Ð°ÐºÐ° Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð¿ÑÑ‚Ð¾Ð¹)",
      examples: [
        {
          description: "ÐŸÑ€Ð¸Ð¼ÐµÑ€ 1: ÐŸÐµÐ½ÑÐ¸Ñ 18000 Ñ€ÑƒÐ±.",
          calculation: "Ð Ð¡Ð” = 24500 - 18000 = 6500 Ñ€ÑƒÐ±.",
        },
        {
          description: "ÐŸÑ€Ð¸Ð¼ÐµÑ€ 2: ÐŸÐµÐ½ÑÐ¸Ñ 20000 Ñ€ÑƒÐ±. + Ð•Ð”Ð’ 2000 Ñ€ÑƒÐ±.",
          calculation: "Ð Ð¡Ð” = 24500 - (20000 + 2000) = 2500 Ñ€ÑƒÐ±.",
        },
      ],
    });
    console.log("âœ… Created formulas");

    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÑÑ‚Ð°Ñ‚ÑƒÑÐ½ÑƒÑŽ Ð¼Ð¾Ð´ÐµÐ»ÑŒ
    const statusValues = [
      {
        passportId,
        statusCode: "NEW",
        statusName: "ÐÐ¾Ð²Ð¾Ðµ Ð·Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ðµ",
        description: "Ð—Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ðµ Ð·Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ",
        isInitial: true,
        isFinal: false,
      },
      {
        passportId,
        statusCode: "VERIFICATION",
        statusName: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²",
        description: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð½Ñ‹Ñ… Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð² Ð¸ ÑÐ²ÐµÐ´ÐµÐ½Ð¸Ð¹",
        isInitial: false,
        isFinal: false,
      },
      {
        passportId,
        statusCode: "CRITERIA_CHECK",
        statusName: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÐµÐ²",
        description: "ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ñ ÐºÑ€Ð¸Ñ‚ÐµÑ€Ð¸ÑÐ¼ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ",
        isInitial: false,
        isFinal: false,
      },
      {
        passportId,
        statusCode: "CALCULATION",
        statusName: "Ð Ð°ÑÑ‡ÐµÑ‚ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð°",
        description: "Ð Ð°ÑÑ‡ÐµÑ‚ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð° Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹",
        isInitial: false,
        isFinal: false,
      },
      {
        passportId,
        statusCode: "APPROVED",
        statusName: "ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¾",
        description: "Ð ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð°",
        isInitial: false,
        isFinal: true,
      },
      {
        passportId,
        statusCode: "REJECTED",
        statusName: "ÐžÑ‚ÐºÐ°Ð·Ð°Ð½Ð¾",
        description: "Ð’ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¸ Ð¾Ñ‚ÐºÐ°Ð·Ð°Ð½Ð¾",
        isInitial: false,
        isFinal: true,
      },
    ];

    const statusResults = await db.insert(schema.statusModels).values(statusValues);
    console.log("âœ… Created status models");

    // Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñ‹ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ð¹
    await db.insert(schema.notificationTemplates).values([
      {
        passportId,
        templateName: "Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¸ Ð Ð¡Ð”",
        channel: "email",
        subject: "Ð ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð°",
        body: `Ð£Ð²Ð°Ð¶Ð°ÐµÐ¼Ñ‹Ð¹(Ð°Ñ) {{Ð¤Ð˜Ðž}}!

Ð’Ð°Ð¼ Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð° Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð°Ñ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð´Ð¾ Ð²ÐµÐ»Ð¸Ñ‡Ð¸Ð½Ñ‹ Ð³Ð¾Ñ€Ð¾Ð´ÑÐºÐ¾Ð³Ð¾ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð³Ð¾ ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð°.

Ð Ð°Ð·Ð¼ÐµÑ€ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹: {{Ð Ð°Ð·Ð¼ÐµÑ€}} Ñ€ÑƒÐ±.
Ð”Ð°Ñ‚Ð° Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ: {{Ð”Ð°Ñ‚Ð°}}

Ð”Ð¾Ð¿Ð»Ð°Ñ‚Ð° Ð±ÑƒÐ´ÐµÑ‚ Ð²Ñ‹Ð¿Ð»Ð°Ñ‡Ð¸Ð²Ð°Ñ‚ÑŒÑÑ ÐµÐ¶ÐµÐ¼ÐµÑÑÑ‡Ð½Ð¾ Ð²Ð¼ÐµÑÑ‚Ðµ Ñ Ð¿ÐµÐ½ÑÐ¸ÐµÐ¹.

Ð¡ ÑƒÐ²Ð°Ð¶ÐµÐ½Ð¸ÐµÐ¼,
Ð”ÐµÐ¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚ Ñ‚Ñ€ÑƒÐ´Ð° Ð¸ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð½Ð°ÑÐµÐ»ÐµÐ½Ð¸Ñ Ð³Ð¾Ñ€Ð¾Ð´Ð° ÐœÐ¾ÑÐºÐ²Ñ‹`,
        variables: ["Ð¤Ð˜Ðž", "Ð Ð°Ð·Ð¼ÐµÑ€", "Ð”Ð°Ñ‚Ð°"],
      },
      {
        passportId,
        templateName: "Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ Ð¾Ð± Ð¾Ñ‚ÐºÐ°Ð·Ðµ Ð² Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¸ Ð Ð¡Ð”",
        channel: "email",
        subject: "ÐžÑ‚ÐºÐ°Ð· Ð² Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¸ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸",
        body: `Ð£Ð²Ð°Ð¶Ð°ÐµÐ¼Ñ‹Ð¹(Ð°Ñ) {{Ð¤Ð˜Ðž}}!

ÐŸÐ¾ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð°Ð¼ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¸Ñ Ð’Ð°ÑˆÐµÐ³Ð¾ Ð·Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¾ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð¾Ð± Ð¾Ñ‚ÐºÐ°Ð·Ðµ Ð² Ð½Ð°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ð¸ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸.

ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾Ñ‚ÐºÐ°Ð·Ð°: {{ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°}}

Ð’Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¾Ð±Ð¶Ð°Ð»Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð°Ð½Ð½Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ Ð² ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½Ð½Ð¾Ð¼ Ð·Ð°ÐºÐ¾Ð½Ð¾Ð¼ Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ.

Ð¡ ÑƒÐ²Ð°Ð¶ÐµÐ½Ð¸ÐµÐ¼,
Ð”ÐµÐ¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚ Ñ‚Ñ€ÑƒÐ´Ð° Ð¸ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð½Ð°ÑÐµÐ»ÐµÐ½Ð¸Ñ Ð³Ð¾Ñ€Ð¾Ð´Ð° ÐœÐ¾ÑÐºÐ²Ñ‹`,
        variables: ["Ð¤Ð˜Ðž", "ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð°"],
      },
      {
        passportId,
        templateName: "Ð—Ð°Ð¿Ñ€Ð¾Ñ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²",
        channel: "portal",
        subject: "Ð¢Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹",
        body: `Ð£Ð²Ð°Ð¶Ð°ÐµÐ¼Ñ‹Ð¹(Ð°Ñ) {{Ð¤Ð˜Ðž}}!

Ð”Ð»Ñ Ñ€Ð°ÑÑÐ¼Ð¾Ñ‚Ñ€ÐµÐ½Ð¸Ñ Ð’Ð°ÑˆÐµÐ³Ð¾ Ð·Ð°ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑŒ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ñ‹:

{{Ð¡Ð¿Ð¸ÑÐ¾Ðº_Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²}}

Ð¡Ñ€Ð¾Ðº Ð¿Ñ€ÐµÐ´Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ: {{Ð¡Ñ€Ð¾Ðº}}

Ð¡ ÑƒÐ²Ð°Ð¶ÐµÐ½Ð¸ÐµÐ¼,
Ð”ÐµÐ¿Ð°Ñ€Ñ‚Ð°Ð¼ÐµÐ½Ñ‚ Ñ‚Ñ€ÑƒÐ´Ð° Ð¸ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð½Ð°ÑÐµÐ»ÐµÐ½Ð¸Ñ Ð³Ð¾Ñ€Ð¾Ð´Ð° ÐœÐ¾ÑÐºÐ²Ñ‹`,
        variables: ["Ð¤Ð˜Ðž", "Ð¡Ð¿Ð¸ÑÐ¾Ðº_Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð¾Ð²", "Ð¡Ñ€Ð¾Ðº"],
      },
    ]);
    console.log("âœ… Created notification templates");

    console.log("\nâœ¨ RSD passport example added successfully!");
    console.log(`\nÐŸÐ°ÑÐ¿Ð¾Ñ€Ñ‚ ID: ${passportId}`);
    console.log("ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ: ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ Ñ€ÐµÐ³Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð´Ð¾Ð¿Ð»Ð°Ñ‚Ñ‹ Ðº Ð¿ÐµÐ½ÑÐ¸Ð¸ Ð½ÐµÑ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ð¼ Ð¿ÐµÐ½ÑÐ¸Ð¾Ð½ÐµÑ€Ð°Ð¼ Ð´Ð¾ Ð“Ð¡Ð¡");
    console.log("ÐšÐ¾Ð´ ÑƒÑÐ»ÑƒÐ³Ð¸: 50");
    console.log("Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: ÐžÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½\n");
  } catch (error) {
    console.error("âŒ Error:", error);
    throw error;
  } finally {
    await connection.end();
  }
}

main()
  .then(() => process.exit(0))
  .catch((error) => {
    console.error(error);
    process.exit(1);
  });

